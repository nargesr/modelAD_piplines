# modelAD data upload

All the data that were generated by MODEL-AD, need to be submitted to the [Synapse](https://www.synapse.org/).

In order to prepare the metadata to upload to Synapse, we need to make multiple files:

- Individual_metadata: contains information about individual mice (need to retrieve data stored in the Climb database)
- Biasospecimen_metadata: contains information about biospecimen
- Assay_metadata: such as RNAseq_metadata contains information regarding the assay

one of the time-consuming parts of preparing necessary metadata is grabbing information from [CLIMB](https://climb.bio/).

[climbGET_example.R](example/climbGET_example.R) is an example of how you can access information from CLIMB by passing animal IDs as a list.


Once you have all the metadata folders uploaded to Synapse for the given mouse model, go to the Synapse folder of the given mouse model and look for the staging/Metadata folder. In that folder, look for the most updated version of the manifest. 

**note:** you need to be login and athuorized to see that folder.

For example [this one](https://www.synapse.org/Synapse:syn26943950) is for the UCITrem2-R47H NSS Study and you should grab the latest version of the manifest in the Staging/Metadata.

Each row in manifest is a file that we want to upload to the Synapse. If there is any row in the manifest that you already upload it, you need to remove it.

Then you need to submit this script below to upload the files in the manifest:

```
# Load required libraries
import synapseclient
import synapseutils

# Authenticate

syn = synapseclient.Synapse()

## log in using username and password
syn.login('USER_NAME', 'PASSWORD', rememberMe=True)

# Upload the files
foo = synapseutils.syncToSynapse(syn, manifestFile = 'MANIFEST_FILE', dryRun = False)
```
